{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://json-schema.org/draft-07/schema#",
  "title": "RCSB extensions schema meta-schema",
  "definitions": {
    "schemaArray": {
      "type": "array",
      "minItems": 1,
      "items": {
        "$ref": "#"
      }
    },
    "nonNegativeInteger": {
      "type": "integer",
      "minimum": 0
    },
    "nonNegativeIntegerDefault0": {
      "allOf": [
        {
          "$ref": "#/definitions/nonNegativeInteger"
        },
        {
          "default": 0
        }
      ]
    },
    "simpleTypes": {
      "enum": [
        "array",
        "boolean",
        "integer",
        "null",
        "number",
        "object",
        "string"
      ]
    },
    "stringArray": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "uniqueItems": true,
      "default": []
    }
  },
  "primitiveTypes": {
    "enum": [
      "boolean",
      "integer",
      "number",
      "string"
    ]
  },
  "type": [
    "object",
    "boolean"
  ],
  "properties": {
    "rcsb_current_maximum_value": {
      "anyOf": [
        {
          "type": "integer"
        },
        {
          "type": "number"
        }
      ]
    },
    "rcsb_current_minimum_value": {
      "anyOf": [
        {
          "type": "integer"
        },
        {
          "type": "number"
        }
      ]
    },
    "rcsb_current_distinct_values": {
      "$ref": "#/definitions/stringArray"
    },
    "rcsb_precision_digits": {
      "description": "The number of digits of precision for the floating point value.",
      "type": "integer"
    },
    "rcsb_units": {
      "description": "The units of expression for the item.",
      "type": "string"
    },
    "rcsb_search_context": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "search_type": {
            "description": "A search type applied to the item.",
            "type": "string",
            "enum": [
              "full-text",
              "attribute",
              "tree",
              "faceted"
            ]
          },
          "facet_conditions": {
            "description": "Additional selections conditions for the faceted search",
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "object_name": {
                  "description": "Attribute name within the object on which the condition is placed.",
                  "type": "string"
                },
                "value": {
                  "description": "Condition value.",
                  "type": [
                    "string",
                    "integer",
                    "number",
                    "boolean"
                  ]
                },
                "op": {
                  "description": "Condition operation.",
                  "type": "string",
                  "enum": [
                    "eq",
                    "gt",
                    "lt",
                    "gte",
                    "lte",
                    "ne"
                  ]
                }
              }
            }
          }
        },
        "additionalProperties": false
      },
      "uniqueItems": true
    },
    "rcsb_description": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "text": {
            "description": "The text of the contextual description.",
            "type": "string"
          },
          "context": {
            "description": "The context for the description.",
            "type": "string",
            "enum": [
              "dictionary",
              "brief",
              "deposition"
            ]
          }
        }
      }
    },
    "rcsb_enum_annotated": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "value": {
            "description": "A value in the controlled vocabulary.",
            "type": [
              "string",
              "integer",
              "number",
              "boolean"
            ]
          },
          "detail": {
            "description": "A description of the value in the controlled vocabulary.",
            "type": "string"
          }
        }
      }
    }
  },
  "default": true
}