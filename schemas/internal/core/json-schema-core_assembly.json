{
  "$schema" : "http://json-schema.org/draft-04/schema#",
  "title" : "Core Assembly",
  "description": "JSON schema for entity level core data. Combines RCSB Exchange Database schema: json-schema-min-pdbx_core_assembly.json and RCSB Data Warehouse schema: json-schema-core_assembly.json",
  "type": "object",
  "required": [
    "rcsb_assembly_container_identifiers"
  ],
  "properties": {
    "rcsb_assembly_container_identifier": {
      "type": "object",
      "properties": {
        "interface_ids": {
          "type": "array",
          "description": "List of binary interface Ids within the assembly (it points to interface id collection).",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "rcsb_struct_symmetry": {
      "type":"array",
      "minItems": 1,
      "uniqueItems": true,
      "items": {
        "type": "object",
        "required":[
          "symbol",
          "type",
          "stoichiometry",
          "oligomeric_state",
          "clusters",
          "kind"
        ],
        "properties": {
          "symbol": {
            "type": "string",
            "examples": [
              "C1",
              "D3",
              "H"
            ],
            "rcsb_search_context": [
              "exact-match"
            ],
            "rcsb_description": [
              {
                "text": "Symmetry Symbol",
                "context": "brief"
              }
            ],
            "rcsb_search_group": [
              {
                "group_name": "Assembly Features",
                "priority_order": 100
              }
            ],
            "description": "Symmetry symbol refers to point group or helical symmetry of identical polymeric subunits in Sch√∂nflies notation. Contains point group symbol (e.g., C2, C5, D2, T, O, I) or H for helical symmetry."
          },
          "type": {
            "type": "string",
            "enum": [
              "Asymmetric",
              "Cyclic",
              "Dihedral",
              "Tetrahedral",
              "Octahedral",
              "Icosahedral",
              "Helical"
            ],
            "rcsb_search_context": [
              "exact-match"
            ],
            "rcsb_description": [
              {
                "text": "Symmetry Type",
                "context": "brief"
              }
            ],
            "rcsb_search_group": [
              {
                "group_name": "Assembly Features",
                "priority_order": 115
              }
            ],
            "description": "Symmetry type refers to point group or helical symmetry of identical polymeric subunits. Contains point group types (e.g. Cyclic, Dihedral) or Helical for helical symmetry."
          },
          "stoichiometry": {
            "type": "array",
            "minItems": 1,
            "uniqueItems": true,
            "items": {
              "type": "string",
              "description": "Each type of different subunits is assigned a latter. The number of equivalent subunits is added as a coefficient after each letter (except 1 which is not added explicitly)."
            },
            "description": "Stoichiometry of a complex represents the quantitative description and composition of its subunits."
          },
          "oligomeric_state": {
            "type": "string",
            "examples": [
              "Monomer",
              "Homo 2-mer",
              "Hetero 3-mer"
            ],
            "rcsb_search_context": [
              "exact-match"
            ],
            "rcsb_description": [
              {
                "text": "Oligomeric State",
                "context": "brief"
              }
            ],
            "rcsb_search_group": [
              {
                "group_name": "Assembly Features",
                "priority_order": 110
              }
            ],
            "description": "Oligomeric state refers to a composition of polymeric subunits in quaternary structure. Quaternary structure may be composed either exclusively of several copies of identical subunits, in which case they are termed homo-oligomers, or alternatively by at least one copy of different subunits (hetero-oligomers). Quaternary structure composed of a single subunit is denoted as 'Monomer'."
          },
          "clusters": {
            "type":"array",
            "minItems": 1,
            "uniqueItems": true,
            "items": {
              "type": "object",
              "required":[
                "members"
              ],
              "properties": {
                "members": {
                  "type":"array",
                  "minItems": 1,
                  "uniqueItems": true,
                  "items": {
                    "type": "object",
                    "description": "Subunits that belong to the cluster, identified by asym_id and optionally by assembly operator id(s).",
                    "required": [
                      "asym_id"
                    ],
                    "properties": {
                      "asym_id": {
                        "type": "string",
                        "description": "Internal chain ID used in mmCIF files to uniquely identify structural elements in the asymmetric unit."
                      },
                      "pdbx_struct_oper_list_ids": {
                        "type": "array",
                        "minItems": 1,
                        "items": {
                          "type": "string"
                        },
                        "description": "Optional list of operator ids (pdbx_struct_oper_list.id) as appears in pdbx_struct_assembly_gen.oper_expression. One operator id per operand in the expression (most cases have only 1 operator). If it's not given then identity operator is assumed."
                      }
                    },
                    "additionalProperties": false
                  }
                },
                "avg_rmsd": {
                  "type": "number",
                  "rcsb_search_context": [
                    "default-match"
                  ],
                  "rcsb_units": "angstroms",
                  "rcsb_description": [
                    {
                      "text": "Average RMSD",
                      "context": "brief"
                    }
                  ],
                  "description": "Average RMSD between members of a given cluster."
                }
              },
              "additionalProperties": false
            },
            "description": "Clusters describe grouping of 'identical' subunits."
          },
          "rotation_axes": {
            "type": "array",
            "minItems": 1,
            "uniqueItems": true,
            "items": {
              "type": "object",
              "required":[
                "start",
                "end"
              ],
              "properties": {
                "start": {
                  "type": "array",
                  "minItems": 3,
                  "maxItems": 3,
                  "items": {
                    "type": "number",
                    "description": "coordinate"
                  },
                  "description": "Describes x,y,z coordinate of the start point of the symmetry axis."
                },
                "end": {
                  "type": "array",
                  "minItems": 3,
                  "maxItems": 3,
                  "items": {
                    "type": "number",
                    "description": "coordinate"
                  },
                  "description": "Describes x,y,z coordinates of the end point of the symmetry axis."
                },
                "order":{
                  "type":"integer",
                  "description": "The number of times (order of rotation) that a subunit can be repeated by a rotation operation, being transformed into a new state indistinguishable from its starting state."
                }
              },
              "additionalProperties": false,
              "description": "The orientation of the principal rotation (symmetry) axis."
            },
            "description": "Specifies a single or multiple rotation axes through the same point."
          },
          "kind": {
            "type": "string",
            "enum": [
              "Global Symmetry",
              "Pseudo Symmetry",
              "Local Symmetry"
            ],
            "rcsb_search_context": [
              "exact-match"
            ],
            "rcsb_description": [
              {
                "text": "Symmetry Class",
                "context": "brief"
              }
            ],
            "rcsb_search_group": [
              {
                "group_name": "Assembly Features",
                "priority_order": 120
              }
            ],
            "description": "The granularity at which the symmetry calculation is performed. In 'Global Symmetry' all polymeric subunits in assembly are used. In 'Local Symmetry' only a subset of polymeric subunits is considered. In 'Pseudo Symmetry' the threshold for subunits similarity is relaxed."
          }
        },
        "additionalProperties": false
      },
      "rcsb_nested_indexing": true
    },
    "rcsb_struct_symmetry_provenance_code": {
      "type": "string",
      "description": "The title and version of software package used for symmetry calculations."
    },
    "rcsb_struct_symmetry_lineage": {
      "type" : "array",
      "minItems" : 1,
      "uniqueItems" : true,
      "items" : {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "rcsb_search_context": [
              "exact-match"
            ],
            "examples": [
              "Global Symmetry.Cyclic.C2.Homo 2-mer"
            ],
            "rcsb_description": [
              {
                "text": "Protein Symmetry (Browser ID)",
                "context": "brief"
              }
            ],
            "rcsb_search_group": [
              {
                "group_name": "Assembly Features",
                "priority_order": 125
              }
            ],
            "description": "Automatically assigned ID to uniquely identify the symmetry term in the Protein Symmetry Browser."
          },
          "name":{
            "type": "string",
            "examples": [
              "Asymmetric",
              "Global Symmetry",
              "C1",
              "Hetero 3-mer"
            ],
            "rcsb_search_context": [
              "exact-match"
            ],
            "rcsb_description": [
              {
                "text": "Symmetry Name",
                "context": "brief"
              }
            ],
            "description": "A human-readable term describing protein symmetry."
          },
          "depth": {
            "type" : "integer",
            "description" : "Hierarchy depth.",
            "rcsb_search_context": [
              "default-match"
            ]
          }
        },
        "additionalProperties": false
      },
      "rcsb_nested_indexing": true
    },
    "rcsb_latest_revision": {
      "type": "object",
      "properties": {
        "major_revision": {
          "type": "integer",
          "description": "The major version number of the latest revision."
        },
        "minor_revision": {
          "type": "integer",
          "description": "The minor version number of the latest revision."
        },
        "revision_date": {
          "type": "string",
          "format": "date-time",
          "description": "The release date of the latest revision item."
        }
      }
    }
  },
  "additionalProperties": false
}
